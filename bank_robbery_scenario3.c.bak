/**
 * @file     bank_robbery_scenario3.c
 * @brief    Scenario 3: Chain Reversal - Backward Circle
 *
 * Pattern: Reverse of the original - transfer backwards in a circle
 * Transfers: 3→2 $3, 2→1 $2, 1→3 $3
 *
 * With -p 3 10 20 30:
 * Initial: P1=$10, P2=$20, P3=$30 (Total=$60)
 * Final:   P1=$9, P2=$21, P3=$30 (Total=$60)
 */

#include "banking.h"

void bank_robbery(void * parent_data, local_id max_id)
{
    // Transfer backwards: i -> i-1, with wraparound
    for (int i = max_id; i >= 2; --i) {
        transfer(parent_data, i, i - 1, i);
    }
    if (max_id > 1) {
        transfer(parent_data, 1, max_id, max_id);
    }
}
